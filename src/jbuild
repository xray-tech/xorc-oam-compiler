(library
 ((name orcml)
  (libraries (base menhirLib sedlex stdio js_of_ocaml js_of_ocaml.weak msgpck))
  (preprocess (pps (ppx_jane)))
))

(rule
 ((targets (lexer.ml))
  (deps    (lexer.sedlex.ml))
  (action  (run ${lib:sedlex:ppx_sedlex} ${<} -o ${@}))))

(menhir
 ((flags (--explain --dump))
  (modules (parser))))

(jbuild_version 1)
